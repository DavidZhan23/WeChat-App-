<!--pages/ranking/ranking.wxml-->
<view class="container">
  <view class="header">
    <text class="title">å¤„å®¤æ’è¡Œæ¦œ</text>
    <text class="subtitle">æŒ‰æ€»æ­¥æ•°æ’å</text>
  </view>

  <!-- æ’è¡Œæ¦œåˆ—è¡¨ -->
  <view class="ranking-list">
    <view class="ranking-item {{index < 3 ? 'top-three' : ''}}" wx:for="{{ranking}}" wx:key="department">
      <view class="rank-number">
        <text class="rank-text" wx:if="{{index >= 3}}">{{index + 1}}</text>
        <view class="medal medal-gold" wx:if="{{index === 0}}">ğŸ¥‡</view>
        <view class="medal medal-silver" wx:if="{{index === 1}}">ğŸ¥ˆ</view>
        <view class="medal medal-bronze" wx:if="{{index === 2}}">ğŸ¥‰</view>
      </view>
      <view class="item-content">
        <view class="item-header">
          <text class="dept-name">{{item.department}}</text>
          <text class="rank-badge" wx:if="{{index < 3}}">TOP{{index + 1}}</text>
        </view>
        <view class="item-stats">
          <view class="stat">
            <text class="stat-label">æ€»æ­¥æ•°</text>
            <text class="stat-value">{{item.totalSteps}}</text>
          </view>
          <view class="stat">
            <text class="stat-label">æ€»é‡Œç¨‹</text>
            <text class="stat-value">{{item.distance}} å…¬é‡Œ</text>
          </view>
          <view class="stat">
            <text class="stat-label">å®Œæˆåº¦</text>
            <text class="stat-value">{{item.progress}}%</text>
          </view>
        </view>
        <view class="progress-bar">
          <view class="progress-fill" style="width: {{item.progress}}%"></view>
        </view>
      </view>
    </view>
  </view>

  <!-- ç©ºçŠ¶æ€ -->
  <view class="empty" wx:if="{{!loading && ranking.length === 0}}">
    <text>æš‚æ— æ•°æ®</text>
  </view>
</view>
